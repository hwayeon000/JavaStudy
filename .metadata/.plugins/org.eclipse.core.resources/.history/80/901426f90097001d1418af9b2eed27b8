package jdbc기초;

import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.SQLException;
import java.util.Scanner;

public class Ex01Insert {
	public static void main(String[] args) {

		// 휘발성 데이터
		// : 다시 실행시키면 날아가는 데이터
		// : 유지가 안되는 데이터

		// 비휘발성 데이터
		// : 다시실행시켜도 유지가 되는 데이터
		// : 컴퓨터 껏다 켜도 유지가되는 데이터

		// 비휘발성 데이터 만드는 방법
		// 1. 문서 (메모장, 한글, 엑셀 ...)
		// 2. 서버
		// 3. 데이터 베이스

		// +
		// 1) Syntax Error
		// : 빨간줄
		// 2) Exception Error
		// : 예외상황, 실행을 시켜야 알 수 있는 오류

		// JDBC ( API )
		// : Interface

		Scanner sc = new Scanner(System.in);
		System.out.print("ID 입력 >> ");
		String id = sc.next();
		System.out.print("PW 입력 >> ");
		String pw = sc.next();
		System.out.print("이름 입력 >> ");
		String name = sc.next();

		// JDBC 연결과정
		// 1. 데이터베이스 연결
		
		// 1-1) 드라이버 동적로딩
		// 	내가 어떤 DB언어를 사용할 것인지 작성
//		Class.forName("oracle.jdbc.driver.OracleDriver"); // 오류 
//				---> 예외상황이 발생 할 수 있어!, try catch 문으로 감싸기
		// "동적로딩 실패"
		// : Driver클래스 이름이 잘못입력되어 있거나
		// : Class파일이 없거나( ojdbc8.jar가 없다 )
		
		// 동적 로딩
		// : 실행하는 순간 자료형이 결정되는 것
		// (Oracle자료형으로 결정되게 만들어 주는 것)
		// static (정적인 공간) : 실행되는 순간 바로 로딩이 되는 것
		// int a = 5; syso(a); <-- 바로 실행이 되는 것들이 static에 저장됨
		// static에 저장되는 것들은 글씨체가 기울임꼴
		
		// oracle.jdbc.driver --> 패키지명
		// OracleDriver --> 클래스명
		
		// 1-1)
		try {
			Class.forName("oracle.jdbc.driver.OracleDriver");
			// 1-2) 데이터베이스 연결에 필요한 준비물
			// 데이터베이스의 주소  jdbc:oracle:thin:@localhost:1521:xe
			// 데이터베이스 계정, 비밀번호  system, 12345
			String url = "jdbc:oracle:thin:@localhost:1521:xe";
			// jdbc:oracle:thin --> thin 드라이버
			// @localhost --> 컴퓨터ip
			// 1521 --> port번호
			// xe --> 오라클 별칭
			String user = "system";
			String password = "12345";
			
			// DriverManager가 내가 권한을 정말 가지고 있는 지 확인
			// 권한을 받으면 아래쪽에서 계속 받은 권한 사용 필요
			Connection conn = DriverManager.getConnection(url, user, password);
			
			
			
		} catch (ClassNotFoundException e) {
			System.out.println("동적 로딩 실패");
			e.printStackTrace();
		} catch (SQLException e) {
			System.out.println("연결 실패");
			e.printStackTrace();
		}
		
		
		
		

	}
}
